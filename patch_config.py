import json

# Читаем config.json
with open('config.json', 'r', encoding='utf-8') as f:
    config_data = json.load(f)

# 1. Добавляем категорию "одежда" в PRODUCT_CATEGORIES
config_data["PRODUCT_CATEGORIES"]["одежда"] = {
    "keywords": [
        "одежда", "одежды", "одежду", "одеждой",
        "вещи", "вещей", "вещам", "вещами", 
        "шмотки", "шмоток", "шмоткам", "шмотками",
        "куртка", "куртки", "куртку", "курткой",
        "пальто", "платье", "платья", "брюки", "джинсы",
        "рубашка", "футболка", "кофта", "свитер", "толстовка",
        "костюм", "пиджак", "юбка", "блузка", "майка",
        "нижнее белье", "спортивная одежда", "верхняя одежда",
        "детская одежда", "мужская одежда", "женская одежда"
    ]
}

# 2. Добавляем тарифы для одежды в T1_RATES_DENSITY
config_data["T1_RATES_DENSITY"]["одежда"] = [
    {"min_density": 400, "price": 2.80, "unit": "kg"},
    {"min_density": 350, "price": 2.90, "unit": "kg"},
    {"min_density": 300, "price": 3.00, "unit": "kg"},
    {"min_density": 250, "price": 3.10, "unit": "kg"},
    {"min_density": 200, "price": 3.20, "unit": "kg"},
    {"min_density": 190, "price": 3.30, "unit": "kg"},
    {"min_density": 180, "price": 3.40, "unit": "kg"},
    {"min_density": 170, "price": 3.50, "unit": "kg"},
    {"min_density": 160, "price": 3.60, "unit": "kg"},
    {"min_density": 150, "price": 3.70, "unit": "kg"},
    {"min_density": 140, "price": 3.80, "unit": "kg"},
    {"min_density": 130, "price": 3.90, "unit": "kg"},
    {"min_density": 120, "price": 4.00, "unit": "kg"},
    {"min_density": 110, "price": 4.10, "unit": "kg"},
    {"min_density": 100, "price": 4.20, "unit": "kg"},
    {"min_density": 0,   "price": 430,  "unit": "m3"}
]

# 3. Убираем слова связанные с одеждой из категории "ткани"
if "ткани" in config_data["PRODUCT_CATEGORIES"]:
    keywords_to_remove = ["одежда", "вещи", "шмотки", "куртки"]
    config_data["PRODUCT_CATEGORIES"]["ткани"]["keywords"] = [
        keyword for keyword in config_data["PRODUCT_CATEGORIES"]["ткани"]["keywords"] 
        if keyword not in keywords_to_remove
    ]

# 4. Добавляем раздел PROHIBITED_GOODS
config_data["PROHIBITED_GOODS"] = {
    "dangerous_goods": [
        "Оружие и боеприпасы: огнестрельное, холодное, пневматическое, газовое оружие, муляжи оружия",
        "Взрывчатые вещества: порох, динамит, детонаторы, пиротехника (фейерверки, петарды)",
        "Легковоспламеняющиеся жидкости: бензин, ацетон, керосин, краски, лаки, растворители, духи",
        "Газы: пропан, бутан, аэрозоли, зажигалки в баллонах",
        "Токсичные вещества: яды, пестициды, ртуть, инфекционные материалы",
        "Радиоактивные материалы",
        "Едкие вещества: кислоты, щелочи, отбеливатели, аккумуляторы"
    ],
    
    "state_controlled_goods": [
        "Наркотические и психотропные вещества",
        "Деньги и ценности: наличные, ценные бумаги, драгоценные металлы и камни",
        "Ювелирные изделия (требуют специального оформления)",
        "Культурные ценности: антиквариат, предметы искусства, старинные монеты",
        "Специальные технические средства: шпионское оборудование"
    ],
    
    "restricted_goods": [
        "Лекарственные средства и БАДы (требуют сертификатов)",
        "Алкоголь и табачные изделия (ограничены или запрещены)",
        "Скоропортящиеся продукты: мясо, рыба, молочные продукты, фрукты",
        "Животные и растения: живые организмы, семена, почва",
        "Части животных: рога, шкуры, мех"
    ],
    
    "other_prohibited": [
        "Порнографические материалы",
        "Контрафактная продукция: подделки брендов"
    ],
    
    "warning_message": " **Внимание! Запрещены к перевозке:**\n\n Опасные грузы (оружие, взрывчатки, легковоспламеняющиеся вещества)\n Наркотики и психотропные вещества\n Деньги, драгоценности, ценные бумаги\n Лекарства без сертификатов\n Алкоголь и табачные изделия\n Скоропортящиеся продукты\n Живые животные и растения\n Контрафактная продукция\n\n **Уточняйте возможность перевозки у менеджера!**"
}

# Сохраняем обновленный config.json
with open('config.json', 'w', encoding='utf-8') as f:
    json.dump(config_data, f, ensure_ascii=False, indent=2)

print(" config.json успешно обновлен!")
print(" Добавлена категория 'одежда' с тарифами Айсулу")
print(" Добавлен раздел PROHIBITED_GOODS")
print(" Убраны слова об одежде из категории 'ткани'")
